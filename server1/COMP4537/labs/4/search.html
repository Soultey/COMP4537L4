<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Search Word Definition</title>
</head>
<body>
  <h2>Search Word Definition</h2>
  <form id="searchForm">
    <label for="searchInput">Search Term:</label><br>
    <input type="text" id="searchInput" name="searchInput" required><br><br>
    <button type="submit">Search</button>
  </form>
  <div id="result"></div>

  <script>
    document.getElementById("searchForm").addEventListener("submit", async function(event) {
      event.preventDefault();
      const searchTerm = document.getElementById("searchInput").value.trim();

      if (!searchTerm) {
        document.getElementById("result").innerText = "Please enter a search term.";
        return;
      }

      try {
        const response = await fetch(`/api/definitions?word=${encodeURIComponent(searchTerm)}`);
        if (response.status === 404) {
          document.getElementById("result").innerText = `Word '${searchTerm}' not found in the dictionary.`;
          return;
        }
        const data = await response.json();
        document.getElementById("result").innerHTML = `<p><strong>${data.word}</strong>: ${data.definition}</p>`;
      } catch (error) {
        console.error('Error:', error);
        document.getElementById("result").innerText = "An error occurred. Please try again.";
      }
    });
  </script>
</body>
</html>
